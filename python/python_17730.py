# numpy element-wise multiplication of an array and a vector
ares = (a.transpose(0,1,3,2) * v).transpose(0,1,3,2)
